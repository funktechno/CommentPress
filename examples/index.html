<html>

<body>
    <div class="">
        <p>Page: test comments</p>
        <div class="comments" >
            <ul id="comments">

            </ul>
        </div>
    </div>
</body>
<script>
    const data = JSON.stringify({
        "slug": "test"
    });

    const xhr = new XMLHttpRequest();
    xhr.withCredentials = true;

    xhr.addEventListener("readystatechange", function () {
        if (this.readyState === this.DONE) {
            try{
                const comments = JSON.parse(this.responseText);
                console.log(comments);
                // comments.forEach(element => {
                    
                // });
            }catch(e){
                console.log(e);
            }
            console.log(this.responseText);
        }
    });

    xhr.open("POST", "/comments/?action=get");
    xhr.setRequestHeader("content-type", "application/json");
    xhr.setRequestHeader("accept", "application/json");

    xhr.send(data);
</script>

</html>